<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html,body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>

    <script>
        // 假设有一个数据对象数组
        let data = [
            { name: "John", age: 27, city: "New York" },
            { name: "Peter", age: 33, city: "Paris" },
            { name: "Maria", age: 45, city: "Madrid" },
            { name: "Joseph", age: 22, city: "Milan" },
            { name: "Hannah", age: 12, city: "London" },
            { name: "Michael", age: 32, city: "New York" },
            { name: "Sandy", age: 23, city: "Paris" },
            { name: "Betty", age: 42, city: "Madrid" },
            { name: "Richard", age: 41, city: "Milan" },
            { name: "Susan", age: 34, city: "London" },
            { name: "Vicky", age: 21, city: "New York" },
            { name: "Ben", age: 44, city: "Paris" },
            { name: "William", age: 15, city: "Madrid" },
            { name: "Chuck", age: 39, city: "Milan" },
            { name: "Viola", age: 24, city: "London" }
        ];

        // 获取table元素，并创建thead和tbody元素
        let table = document.createElement("table");
        let thead = document.createElement("thead");
        let tbody = document.createElement("tbody");

        // 添加标题行到thead
        let headerRow = document.createElement("tr");
        headerRow.innerHTML = "<th>Name</th><th>Age</th><th>City</th>";
        thead.appendChild(headerRow);
        // 将THEAD和TBODY元素附加到TABLE元素中
        table.appendChild(thead);
        table.appendChild(tbody);

        // 将TABLE元素显示在DOM中的某个容器（如DIV）中
        document.body.appendChild(table);
        // 遍历数据对象数组，为每个对象创建一行
        for (let i = 0; i < data.length; i++) {
            let row = document.createElement("tr");
            let nameCell = document.createElement("td");
            let ageCell = document.createElement("td");
            let cityCell = document.createElement("td");

            // 将数据填充到相应的TD元素中
            nameCell.innerHTML = data[i].name;
            ageCell.innerHTML = data[i].age;
            cityCell.innerHTML = data[i].city;

            // 将TD元素附加到TR元素中
            row.appendChild(nameCell);
            row.appendChild(ageCell);
            row.appendChild(cityCell);

            // 将TR元素附加到TBODY元素中
            tbody.appendChild(row);
            // 获取 row 的高度
            // console.log(row.offsetHeight);
            // 获取tbody的高度
            console.log('获取tbody的高度', tbody.clientHeight);
            const tbodyHeight = tbody.clientHeight;
            if(tbodyHeight > 200) {
                tbody.style.overflowY = 'scroll';
                tbody.style.height = '200px';
                data = data.slice(0, i);
            }
        }
    </script>
</body>

</html>