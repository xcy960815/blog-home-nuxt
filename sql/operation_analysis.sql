-- 运营分析表
CREATE TABLE `operation_analysis` (
    `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
    `date` date NOT NULL COMMENT '统计日期',
    `new_users` int(11) NOT NULL DEFAULT '0' COMMENT '新增用户数',
    `active_users` int(11) NOT NULL DEFAULT '0' COMMENT '活跃用户数',
    `total_users` int(11) NOT NULL DEFAULT '0' COMMENT '累计用户数',
    `retention_rate` decimal(5,2) NOT NULL DEFAULT '0.00' COMMENT '次日留存率(%)',
    `conversion_rate` decimal(5,2) NOT NULL DEFAULT '0.00' COMMENT '转化率(%)',
    `avg_online_time` int(11) NOT NULL DEFAULT '0' COMMENT '平均在线时长(分钟)',
    `pv` int(11) NOT NULL DEFAULT '0' COMMENT '页面访问量',
    `uv` int(11) NOT NULL DEFAULT '0' COMMENT '独立访客数',
    `bounce_rate` decimal(5,2) NOT NULL DEFAULT '0.00' COMMENT '跳出率(%)',
    `revenue` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '收入(元)',
    `cost` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '成本(元)',
    `roi` decimal(5,2) NOT NULL DEFAULT '0.00' COMMENT '投资回报率(%)',
    `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    PRIMARY KEY (`id`),
    UNIQUE KEY `idx_date` (`date`),
    KEY `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='运营分析统计表';

-- 插入模拟数据
INSERT INTO `operation_analysis` 
(`date`, `new_users`, `active_users`, `total_users`, `retention_rate`, `conversion_rate`, 
`avg_online_time`, `pv`, `uv`, `bounce_rate`, `revenue`, `cost`, `roi`)
VALUES
('2023-01-01', 120, 1500, 5000, 35.50, 2.80, 45, 15000, 2000, 45.20, 5000.00, 2000.00, 150.00),
('2023-01-02', 135, 1650, 5135, 36.20, 2.90, 48, 16500, 2200, 44.80, 5500.00, 2200.00, 150.00),
('2023-01-03', 150, 1800, 5285, 37.50, 3.10, 50, 18000, 2400, 44.50, 6000.00, 2400.00, 150.00),
('2023-01-04', 165, 1950, 5450, 38.20, 3.20, 52, 19500, 2600, 44.20, 6500.00, 2600.00, 150.00),
('2023-01-05', 180, 2100, 5630, 39.00, 3.30, 55, 21000, 2800, 43.90, 7000.00, 2800.00, 150.00),
('2023-01-06', 195, 2250, 5825, 39.80, 3.40, 58, 22500, 3000, 43.60, 7500.00, 3000.00, 150.00),
('2023-01-07', 210, 2400, 6035, 40.50, 3.50, 60, 24000, 3200, 43.30, 8000.00, 3200.00, 150.00),
('2023-01-08', 225, 2550, 6260, 41.20, 3.60, 62, 25500, 3400, 43.00, 8500.00, 3400.00, 150.00),
('2023-01-09', 240, 2700, 6500, 42.00, 3.70, 65, 27000, 3600, 42.70, 9000.00, 3600.00, 150.00),
('2023-01-10', 255, 2850, 6755, 42.80, 3.80, 68, 28500, 3800, 42.40, 9500.00, 3800.00, 150.00),
('2023-01-11', 270, 3000, 7025, 43.50, 3.90, 70, 30000, 4000, 42.10, 10000.00, 4000.00, 150.00),
('2023-01-12', 285, 3150, 7310, 44.20, 4.00, 72, 31500, 4200, 41.80, 10500.00, 4200.00, 150.00),
('2023-01-13', 300, 3300, 7610, 45.00, 4.10, 75, 33000, 4400, 41.50, 11000.00, 4400.00, 150.00),
('2023-01-14', 315, 3450, 7925, 45.80, 4.20, 78, 34500, 4600, 41.20, 11500.00, 4600.00, 150.00),
('2023-01-15', 330, 3600, 8255, 46.50, 4.30, 80, 36000, 4800, 40.90, 12000.00, 4800.00, 150.00),
('2023-01-16', 345, 3750, 8600, 47.20, 4.40, 82, 37500, 5000, 40.60, 12500.00, 5000.00, 150.00),
('2023-01-17', 360, 3900, 8960, 48.00, 4.50, 85, 39000, 5200, 40.30, 13000.00, 5200.00, 150.00),
('2023-01-18', 375, 4050, 9335, 48.80, 4.60, 88, 40500, 5400, 40.00, 13500.00, 5400.00, 150.00),
('2023-01-19', 390, 4200, 9725, 49.50, 4.70, 90, 42000, 5600, 39.70, 14000.00, 5600.00, 150.00),
('2023-01-20', 405, 4350, 10130, 50.20, 4.80, 92, 43500, 5800, 39.40, 14500.00, 5800.00, 150.00),
('2023-01-21', 420, 4500, 10550, 51.00, 4.90, 95, 45000, 6000, 39.10, 15000.00, 6000.00, 150.00),
('2023-01-22', 435, 4650, 10985, 51.80, 5.00, 98, 46500, 6200, 38.80, 15500.00, 6200.00, 150.00),
('2023-01-23', 450, 4800, 11435, 52.50, 5.10, 100, 48000, 6400, 38.50, 16000.00, 6400.00, 150.00),
('2023-01-24', 465, 4950, 11900, 53.20, 5.20, 102, 49500, 6600, 38.20, 16500.00, 6600.00, 150.00),
('2023-01-25', 480, 5100, 12380, 54.00, 5.30, 105, 51000, 6800, 37.90, 17000.00, 6800.00, 150.00),
('2023-01-26', 495, 5250, 12875, 54.80, 5.40, 108, 52500, 7000, 37.60, 17500.00, 7000.00, 150.00),
('2023-01-27', 510, 5400, 13385, 55.50, 5.50, 110, 54000, 7200, 37.30, 18000.00, 7200.00, 150.00),
('2023-01-28', 525, 5550, 13910, 56.20, 5.60, 112, 55500, 7400, 37.00, 18500.00, 7400.00, 150.00),
('2023-01-29', 540, 5700, 14450, 57.00, 5.70, 115, 57000, 7600, 36.70, 19000.00, 7600.00, 150.00),
('2023-01-30', 555, 5850, 15005, 57.80, 5.80, 118, 58500, 7800, 36.40, 19500.00, 7800.00, 150.00),
('2023-01-31', 570, 6000, 15575, 58.50, 5.90, 120, 60000, 8000, 36.10, 20000.00, 8000.00, 150.00),
('2023-02-01', 585, 6150, 16160, 59.20, 6.00, 122, 61500, 8200, 35.80, 20500.00, 8200.00, 150.00),
('2023-02-02', 600, 6300, 16760, 60.00, 6.10, 125, 63000, 8400, 35.50, 21000.00, 8400.00, 150.00),
('2023-02-03', 615, 6450, 17375, 60.80, 6.20, 128, 64500, 8600, 35.20, 21500.00, 8600.00, 150.00),
('2023-02-04', 630, 6600, 18005, 61.50, 6.30, 130, 66000, 8800, 34.90, 22000.00, 8800.00, 150.00),
('2023-02-05', 645, 6750, 18650, 62.20, 6.40, 132, 67500, 9000, 34.60, 22500.00, 9000.00, 150.00),
('2023-02-06', 660, 6900, 19310, 63.00, 6.50, 135, 69000, 9200, 34.30, 23000.00, 9200.00, 150.00),
('2023-02-07', 675, 7050, 19985, 63.80, 6.60, 138, 70500, 9400, 34.00, 23500.00, 9400.00, 150.00),
('2023-02-08', 690, 7200, 20675, 64.50, 6.70, 140, 72000, 9600, 33.70, 24000.00, 9600.00, 150.00),
('2023-02-09', 705, 7350, 21380, 65.20, 6.80, 142, 73500, 9800, 33.40, 24500.00, 9800.00, 150.00),
('2023-02-10', 720, 7500, 22100, 66.00, 6.90, 145, 75000, 10000, 33.10, 25000.00, 10000.00, 150.00),
('2023-02-11', 735, 7650, 22835, 66.80, 7.00, 148, 76500, 10200, 32.80, 25500.00, 10200.00, 150.00),
('2023-02-12', 750, 7800, 23585, 67.50, 7.10, 150, 78000, 10400, 32.50, 26000.00, 10400.00, 150.00),
('2023-02-13', 765, 7950, 24350, 68.20, 7.20, 152, 79500, 10600, 32.20, 26500.00, 10600.00, 150.00),
('2023-02-14', 780, 8100, 25130, 69.00, 7.30, 155, 81000, 10800, 31.90, 27000.00, 10800.00, 150.00),
('2023-02-15', 795, 8250, 25925, 69.80, 7.40, 158, 82500, 11000, 31.60, 27500.00, 11000.00, 150.00),
('2023-02-16', 810, 8400, 26735, 70.50, 7.50, 160, 84000, 11200, 31.30, 28000.00, 11200.00, 150.00),
('2023-02-17', 825, 8550, 27560, 71.20, 7.60, 162, 85500, 11400, 31.00, 28500.00, 11400.00, 150.00),
('2023-02-18', 840, 8700, 28400, 72.00, 7.70, 165, 87000, 11600, 30.70, 29000.00, 11600.00, 150.00),
('2023-02-19', 855, 8850, 29255, 72.80, 7.80, 168, 88500, 11800, 30.40, 29500.00, 11800.00, 150.00),
('2023-02-20', 870, 9000, 30125, 73.50, 7.90, 170, 90000, 12000, 30.10, 30000.00, 12000.00, 150.00),
('2023-02-21', 885, 9150, 31010, 74.20, 8.00, 172, 91500, 12200, 29.80, 30500.00, 12200.00, 150.00),
('2023-02-22', 900, 9300, 31910, 75.00, 8.10, 175, 93000, 12400, 29.50, 31000.00, 12400.00, 150.00),
('2023-02-23', 915, 9450, 32825, 75.80, 8.20, 178, 94500, 12600, 29.20, 31500.00, 12600.00, 150.00),
('2023-02-24', 930, 9600, 33755, 76.50, 8.30, 180, 96000, 12800, 28.90, 32000.00, 12800.00, 150.00),
('2023-02-25', 945, 9750, 34700, 77.20, 8.40, 182, 97500, 13000, 28.60, 32500.00, 13000.00, 150.00),
('2023-02-26', 960, 9900, 35660, 78.00, 8.50, 185, 99000, 13200, 28.30, 33000.00, 13200.00, 150.00),
('2023-02-27', 975, 10050, 36635, 78.80, 8.60, 188, 100500, 13400, 28.00, 33500.00, 13400.00, 150.00),
('2023-02-28', 990, 10200, 37625, 79.50, 8.70, 190, 102000, 13600, 27.70, 34000.00, 13600.00, 150.00),
('2023-03-01', 1005, 10350, 38630, 80.20, 8.80, 192, 103500, 13800, 27.40, 34500.00, 13800.00, 150.00),
('2023-03-02', 1020, 10500, 39650, 81.00, 8.90, 195, 105000, 14000, 27.10, 35000.00, 14000.00, 150.00),
('2023-03-03', 1035, 10650, 40685, 81.80, 9.00, 198, 106500, 14200, 26.80, 35500.00, 14200.00, 150.00),
('2023-03-04', 1050, 10800, 41735, 82.50, 9.10, 200, 108000, 14400, 26.50, 36000.00, 14400.00, 150.00),
('2023-03-05', 1065, 10950, 42800, 83.20, 9.20, 202, 109500, 14600, 26.20, 36500.00, 14600.00, 150.00),
('2023-03-06', 1080, 11100, 43880, 84.00, 9.30, 205, 111000, 14800, 25.90, 37000.00, 14800.00, 150.00),
('2023-03-07', 1095, 11250, 44975, 84.80, 9.40, 208, 112500, 15000, 25.60, 37500.00, 15000.00, 150.00),
('2023-03-08', 1110, 11400, 46085, 85.50, 9.50, 210, 114000, 15200, 25.30, 38000.00, 15200.00, 150.00),
('2023-03-09', 1125, 11550, 47210, 86.20, 9.60, 212, 115500, 15400, 25.00, 38500.00, 15400.00, 150.00),
('2023-03-10', 1140, 11700, 48350, 87.00, 9.70, 215, 117000, 15600, 24.70, 39000.00, 15600.00, 150.00),
('2023-03-11', 1155, 11850, 49505, 87.80, 9.80, 218, 118500, 15800, 24.40, 39500.00, 15800.00, 150.00),
('2023-03-12', 1170, 12000, 50675, 88.50, 9.90, 220, 120000, 16000, 24.10, 40000.00, 16000.00, 150.00),
('2023-03-13', 1185, 12150, 51860, 89.20, 10.00, 222, 121500, 16200, 23.80, 40500.00, 16200.00, 150.00),
('2023-03-14', 1200, 12300, 53060, 90.00, 10.10, 225, 123000, 16400, 23.50, 41000.00, 16400.00, 150.00),
('2023-03-15', 1215, 12450, 54275, 90.80, 10.20, 228, 124500, 16600, 23.20, 41500.00, 16600.00, 150.00),
('2023-03-16', 1230, 12600, 55505, 91.50, 10.30, 230, 126000, 16800, 22.90, 42000.00, 16800.00, 150.00),
('2023-03-17', 1245, 12750, 56750, 92.20, 10.40, 232, 127500, 17000, 22.60, 42500.00, 17000.00, 150.00),
('2023-03-18', 1260, 12900, 58010, 93.00, 10.50, 235, 129000, 17200, 22.30, 43000.00, 17200.00, 150.00),
('2023-03-19', 1275, 13050, 59285, 93.80, 10.60, 238, 130500, 17400, 22.00, 43500.00, 17400.00, 150.00),
('2023-03-20', 1290, 13200, 60575, 94.50, 10.70, 240, 132000, 17600, 21.70, 44000.00, 17600.00, 150.00),
('2023-03-21', 1305, 13350, 61880, 95.20, 10.80, 242, 133500, 17800, 21.40, 44500.00, 17800.00, 150.00),
('2023-03-22', 1320, 13500, 63200, 96.00, 10.90, 245, 135000, 18000, 21.10, 45000.00, 18000.00, 150.00),
('2023-03-23', 1335, 13650, 64535, 96.80, 11.00, 248, 136500, 18200, 20.80, 45500.00, 18200.00, 150.00),
('2023-03-24', 1350, 13800, 65885, 97.50, 11.10, 250, 138000, 18400, 20.50, 46000.00, 18400.00, 150.00),
('2023-03-25', 1365, 13950, 67250, 98.20, 11.20, 252, 139500, 18600, 20.20, 46500.00, 18600.00, 150.00),
('2023-03-26', 1380, 14100, 68630, 99.00, 11.30, 255, 141000, 18800, 19.90, 47000.00, 18800.00, 150.00),
('2023-03-27', 1395, 14250, 70025, 99.80, 11.40, 258, 142500, 19000, 19.60, 47500.00, 19000.00, 150.00),
('2023-03-28', 1410, 14400, 71435, 100.50, 11.50, 260, 144000, 19200, 19.30, 48000.00, 19200.00, 150.00),
('2023-03-29', 1425, 14550, 72860, 101.20, 11.60, 262, 145500, 19400, 19.00, 48500.00, 19400.00, 150.00),
('2023-03-30', 1440, 14700, 74300, 102.00, 11.70, 265, 147000, 19600, 18.70, 49000.00, 19600.00, 150.00),
('2023-03-31', 1455, 14850, 75755, 102.80, 11.80, 268, 148500, 19800, 18.40, 49500.00, 19800.00, 150.00),
('2023-04-01', 1470, 15000, 77225, 103.50, 11.90, 270, 150000, 20000, 18.10, 50000.00, 20000.00, 150.00),
('2023-04-02', 1485, 15150, 78710, 104.20, 12.00, 272, 151500, 20200, 17.80, 50500.00, 20200.00, 150.00),
('2023-04-03', 1500, 15300, 80210, 105.00, 12.10, 275, 153000, 20400, 17.50, 51000.00, 20400.00, 150.00),
('2023-04-04', 1515, 15450, 81725, 105.80, 12.20, 278, 154500, 20600, 17.20, 51500.00, 20600.00, 150.00),
('2023-04-05', 1530, 15600, 83255, 106.50, 12.30, 280, 156000, 20800, 16.90, 52000.00, 20800.00, 150.00),
('2023-04-06', 1545, 15750, 84800, 107.20, 12.40, 282, 157500, 21000, 16.60, 52500.00, 21000.00, 150.00),
('2023-04-07', 1560, 15900, 86360, 108.00, 12.50, 285, 159000, 21200, 16.30, 53000.00, 21200.00, 150.00),
('2023-04-08', 1575, 16050, 87935, 108.80, 12.60, 288, 160500, 21400, 16.00, 53500.00, 21400.00, 150.00),
('2023-04-09', 1590, 16200, 89525, 109.50, 12.70, 290, 162000, 21600, 15.70, 54000.00, 21600.00, 150.00),
('2023-04-10', 1605, 16350, 91130, 110.20, 12.80, 292, 163500, 21800, 15.40, 54500.00, 21800.00, 150.00); 